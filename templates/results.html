{% extends 'layout.html' %}

{% block title %}
    Results
{% endblock %}

{% block main %}
<div class="d-flex justify-content-center align-items-center flex-column">
    <h1 class="mb-5">Flights to {{ destination }}</h1>
    <h5 class="text-muted mb-5">{{ date }}</h5>
    <div class="d-flex justify-content-center">
        <div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Origin</th>
                        <th>Destination</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in response %}
                        <tr>
                            <td>{{ entry['flightOffers'][0]['itineraries'][0]['segments'][0]['departure']['iataCode'] }}</td>
                            <td>{{ entry['flightOffers'][0]['itineraries'][0]['segments'][0]['arrival']['iataCode'] }}</td>
                            <td>&euro;{{ entry['flightOffers'][0]['price']['grandTotal'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}